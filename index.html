<html>
  <head>
    <title>Notes App</title>
    <script type="module" src="/src/components/command-bar/command-bar.js"></script>
    <script type="module" src="/src/components/note-list/note-list.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css">
  </head>
  <body>
    <div class="container">
      <div class="app-header">
        <command-bar></command-bar>
      </div>
      <note-list></note-list>
    </div>
  </body>
</html>

<script type="module">

  let notes = []
  let id = 0

  let commandBar = document.getElementsByTagName("command-bar")[0]

  commandBar.addEventListener('search-input', function (e) {
    let noteList = document.getElementsByTagName("note-list")[0]
    noteList.query = e.detail.query
  }, false)

  commandBar.addEventListener('create-click', function (e) {
    notes.push({
      id: (++id).toString(),
      text: ''
    })

    let noteList = document.getElementsByTagName("note-list")[0]
    noteList.notes=[]
    noteList.notes=notes
  }, false)
  
</script>